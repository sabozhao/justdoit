import{_ as Ve,j as Se,k as b,l as Ce,o as Ae,E as u,r as _,b as v,d as k,e as r,t as f,g as n,w as s,m as C,h as j,n as V,i as d,F as B,f as D,p as le,q as N,s as xe,v as Ue}from"./index-d1e6b690.js";const Ie={class:"admin-container"},$e={class:"admin-stats"},Qe={class:"stat-card"},ze={class:"stat-number"},Be={class:"stat-card"},qe={class:"stat-number"},De={class:"stat-card"},Pe={class:"stat-number"},Ke={class:"admin-tabs"},Me={class:"user-management"},Ee={class:"action-buttons"},Te={class:"bank-management"},je={class:"action-buttons"},Ne={class:"system-settings"},Fe={class:"card-header"},Oe={key:0},Le={style:{"margin-bottom":"20px"}},He={style:{"margin-bottom":"20px"}},Re={key:0},Ye={key:1},Ge={style:{"margin-top":"8px",color:"#909399","font-size":"12px"}},Je={key:1,style:{color:"#909399","font-size":"12px","text-align":"center","margin-top":"8px"}},We={key:0,style:{color:"#f56c6c","font-size":"12px","margin-top":"8px"}},Xe={__name:"Admin",setup(Ze){const P=Se(),J=b("users"),K=b([]),F=b([]),q=b({totalUsers:0,totalBanks:0,totalQuestions:0});b({platformName:"åˆ·ä¸ªé¢˜",maxUsers:1e3,allowRegistration:!0});const i=b({tencent_secret_id:"",tencent_secret_key:"",tencent_region:"ap-beijing",tencent_model:"hunyuan-lite",tencent_endpoint:"hunyuan.tencentcloudapi.com"}),y=b({tencent_secret_id:"",tencent_secret_key:"",tencent_region:"ap-beijing",tencent_model:"hunyuan-lite",tencent_endpoint:"hunyuan.tencentcloudapi.com"}),A=b(!1),w=b(null),W=b([]),M=b(!1),I=b(!1),z=b(!1),l=b({id:"",question:"",options:["",""],answer:0,is_multiple:!1,explanation:""}),$=b({name:"",description:""}),O=()=>{var t;return(t=P.user)!=null&&t.is_admin?!0:(u.error("æ‚¨æ²¡æœ‰ç®¡ç†å‘˜æƒé™"),!1)},E=async()=>{try{const t=await V.getUsers();console.log("Users API response:",t),K.value=t||[],console.log("Users data updated:",K.value)}catch(t){console.error("Users API error:",t),u.error("åŠ è½½ç”¨æˆ·æ•°æ®å¤±è´¥")}},T=async()=>{try{const t=await V.getQuestionBanks();console.log("Question banks API response:",t),F.value=t||[],console.log("Question banks data updated:",F.value)}catch(t){console.error("Question banks API error:",t),u.error("åŠ è½½é¢˜åº“æ•°æ®å¤±è´¥")}},X=async()=>{try{const t=await V.getStats();console.log("Stats API response:",t),t&&(q.value={totalUsers:t.total_users,totalBanks:t.total_question_banks,totalQuestions:t.total_questions},console.log("User stats updated:",q.value))}catch(t){console.error("Stats API error:",t),u.error("åŠ è½½ç»Ÿè®¡æ•°æ®å¤±è´¥")}},ne=async t=>{if(O())try{await N.confirm(`ç¡®å®šè¦${t.is_admin?"å–æ¶ˆ":"è®¾ç½®"} ${t.username} çš„ç®¡ç†å‘˜æƒé™å—ï¼Ÿ`,"ç¡®è®¤æ“ä½œ"),await V.updateUser(t.id,{is_admin:!t.is_admin}),u.success("æ“ä½œæˆåŠŸ"),E()}catch(e){e!=="cancel"&&u.error("æ“ä½œå¤±è´¥")}},ae=async t=>{if(O())try{await N.confirm(`ç¡®å®šè¦åˆ é™¤ç”¨æˆ· ${t.username} å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚`,"ç¡®è®¤åˆ é™¤"),await V.deleteUser(t.id),u.success("ç”¨æˆ·åˆ é™¤æˆåŠŸ"),E()}catch(e){e!=="cancel"&&u.error("åˆ é™¤å¤±è´¥")}},se=async t=>{if(O())try{await N.confirm(`ç¡®å®šè¦åˆ é™¤é¢˜åº“ ${t.name} å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚`,"ç¡®è®¤åˆ é™¤"),await V.deleteQuestionBank(t.id),u.success("é¢˜åº“åˆ é™¤æˆåŠŸ"),T()}catch(e){e!=="cancel"&&u.error("åˆ é™¤å¤±è´¥")}},oe=t=>{const e=K.value.find(o=>o.id===t);return e?e.username:t},ie=t=>{if(!t)return"";try{const e=new Date(t),o=e.getFullYear(),h=String(e.getMonth()+1).padStart(2,"0"),m=String(e.getDate()).padStart(2,"0"),p=String(e.getHours()).padStart(2,"0"),g=String(e.getMinutes()).padStart(2,"0");return`${o}-${h}-${m} ${p}:${g}`}catch{return t}},L=async t=>{w.value=t;try{const e=await V.getQuestions(t.id);W.value=e||[],M.value=!0}catch(e){console.error("è·å–é¢˜ç›®å¤±è´¥:",e),u.error("è·å–é¢˜ç›®å¤±è´¥")}},re=t=>{w.value=t,$.value={name:t.name,description:t.description},z.value=!0},ue=async()=>{if(w.value)try{await V.updateQuestionBank(w.value.id,$.value),u.success("é¢˜åº“ä¿¡æ¯æ›´æ–°æˆåŠŸ"),z.value=!1,T()}catch(t){console.error("æ›´æ–°é¢˜åº“å¤±è´¥:",t),u.error("æ›´æ–°é¢˜åº“å¤±è´¥")}},Z=t=>{w.value=t,l.value={id:"",question:"",options:["",""],answer:0,is_multiple:!1,explanation:""},console.log("æ·»åŠ é¢˜ç›® - currentQuestionåˆå§‹åŒ–:",l.value),I.value=!0},de=t=>{let e=t.answer;t.is_multiple?Array.isArray(e)||(e=e!=null?[e]:[]):Array.isArray(e)?e=e.length>0?e[0]:0:e==null&&(e=0),l.value={id:t.id,question:t.question,options:[...t.options],answer:e,is_multiple:t.is_multiple||!1,explanation:t.explanation||""},I.value=!0},ce=()=>{l.value.options.length<10?(l.value.options.push(""),!l.value.is_multiple&&(l.value.answer===null||l.value.answer===void 0)&&(l.value.answer=0)):u.warning("æœ€å¤šåªèƒ½æ·»åŠ 10ä¸ªé€‰é¡¹")},pe=t=>{l.value.options.length>2?(l.value.options.splice(t,1),l.value.is_multiple?(Array.isArray(l.value.answer)&&(l.value.answer=l.value.answer.filter(e=>e!==t).map(e=>e>t?e-1:e)),l.value.answer.length===0&&l.value.options.length>0):l.value.answer===t?l.value.answer=0:l.value.answer>t&&(l.value.answer=l.value.answer-1)):u.warning("è‡³å°‘éœ€è¦2ä¸ªé€‰é¡¹")},ee=t=>{console.log("=== é¢˜ç›®ç±»å‹å˜åŒ–äº‹ä»¶è§¦å‘ ==="),console.log("@changeäº‹ä»¶æ¥æ”¶åˆ°çš„å€¼:",t,"ç±»å‹:",typeof t),console.log("currentQuestion.value.is_multiple å½“å‰å€¼:",l.value.is_multiple),console.log("å½“å‰ç­”æ¡ˆ:",l.value.answer,"ç­”æ¡ˆç±»å‹:",Array.isArray(l.value.answer)?"æ•°ç»„":typeof l.value.answer);const e=l.value.is_multiple;if(console.log("åˆ¤æ–­isMultiple:",e,"ä¸¥æ ¼ç­‰äºtrue:",e===!0,"ä¸¥æ ¼ç­‰äºfalse:",e===!1),e===!0){if(console.log(">>> åˆ‡æ¢åˆ°å¤šé€‰é¢˜"),Array.isArray(l.value.answer))console.log("âœ“ ç­”æ¡ˆå·²ç»æ˜¯æ•°ç»„:",l.value.answer);else{const o=l.value.answer;o!=null&&typeof o=="number"&&o>=0&&o<l.value.options.length?(l.value.answer=[o],console.log("âœ“ å°†å•é€‰é¢˜ç­”æ¡ˆè½¬æ¢ä¸ºæ•°ç»„:",l.value.answer)):(l.value.answer=[],console.log("âœ“ ç­”æ¡ˆæ— æ•ˆï¼Œè®¾ç½®ä¸ºç©ºæ•°ç»„"))}l.value.is_multiple=!0}else console.log(">>> åˆ‡æ¢åˆ°å•é€‰é¢˜"),Array.isArray(l.value.answer)?(l.value.answer=l.value.answer.length>0?l.value.answer[0]:0,console.log("âœ“ å°†å¤šé€‰é¢˜ç­”æ¡ˆè½¬æ¢ä¸ºå•ä¸ªå€¼:",l.value.answer)):l.value.answer===null||l.value.answer===void 0?(l.value.answer=0,console.log("âœ“ ç­”æ¡ˆä¸ºç©ºï¼Œè®¾ç½®ä¸º0")):console.log("âœ“ ç­”æ¡ˆå·²ç»æ˜¯å•ä¸ªå€¼:",l.value.answer),l.value.is_multiple=!1;console.log("è½¬æ¢å®Œæˆ - is_multiple:",l.value.is_multiple,"ç­”æ¡ˆ:",l.value.answer),console.log("=== è½¬æ¢ç»“æŸ ===")},ve=async()=>{var h,m;if(!w.value)return;if(!l.value.question.trim()){u.warning("è¯·è¾“å…¥é¢˜ç›®å†…å®¹");return}if(l.value.options.length>10){u.warning("é€‰é¡¹æ•°é‡ä¸èƒ½è¶…è¿‡10ä¸ª");return}const t=[],e=[];for(let p=0;p<l.value.options.length;p++){const g=l.value.options[p];g.trim()&&(e[p]=t.length,t.push(g.trim()))}if(t.length<2){u.warning("è‡³å°‘éœ€è¦2ä¸ªæœ‰æ•ˆé€‰é¡¹");return}let o=[];if(l.value.is_multiple){if(!Array.isArray(l.value.answer)||l.value.answer.length===0){u.warning("å¤šé€‰é¢˜è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆ");return}for(const p of l.value.answer){if(p<0||p>=e.length||e[p]===void 0){u.warning("ç­”æ¡ˆç´¢å¼•æ— æ•ˆï¼ˆå¯èƒ½å¯¹åº”ç©ºé€‰é¡¹ï¼‰");return}const g=e[p];if(g<0||g>=t.length){u.warning("ç­”æ¡ˆç´¢å¼•è¶…å‡ºé€‰é¡¹èŒƒå›´");return}o.includes(g)||o.push(g)}}else{if(l.value.answer===null||l.value.answer===void 0){u.warning("è¯·é€‰æ‹©æ­£ç¡®ç­”æ¡ˆ");return}const p=l.value.answer;if(p<0||p>=e.length||e[p]===void 0){u.warning("ç­”æ¡ˆç´¢å¼•æ— æ•ˆï¼ˆå¯èƒ½å¯¹åº”ç©ºé€‰é¡¹ï¼‰");return}const g=e[p];if(g<0||g>=t.length){u.warning("ç­”æ¡ˆç´¢å¼•è¶…å‡ºé€‰é¡¹èŒƒå›´");return}o=[g]}try{const p={bank_id:w.value.id,question:l.value.question.trim(),options:t,answer:o,explanation:l.value.explanation||""};l.value.id?(await V.updateQuestion(l.value.id,p),u.success("é¢˜ç›®æ›´æ–°æˆåŠŸ")):(await V.createQuestion(p),u.success("é¢˜ç›®æ·»åŠ æˆåŠŸ")),I.value=!1,L(w.value)}catch(p){console.error("ä¿å­˜é¢˜ç›®å¤±è´¥:",p),u.error(((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.error)||"ä¿å­˜é¢˜ç›®å¤±è´¥")}},me=async t=>{try{await N.confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé¢˜ç›®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚","ç¡®è®¤åˆ é™¤"),await V.deleteQuestion(t.id),u.success("é¢˜ç›®åˆ é™¤æˆåŠŸ"),L(w.value)}catch(e){e!=="cancel"&&u.error("åˆ é™¤é¢˜ç›®å¤±è´¥")}},_e=()=>{M.value=!1,I.value=!1,z.value=!1},H=async()=>{try{A.value=!0;const t=await V.getSettings();t&&t.settings&&(t.settings.tencent_secret_id&&(i.value.tencent_secret_id=t.settings.tencent_secret_id),t.settings.tencent_secret_key&&(t.settings.tencent_secret_key.includes("***"),i.value.tencent_secret_key=t.settings.tencent_secret_key),t.settings.tencent_region&&(i.value.tencent_region=t.settings.tencent_region),t.settings.tencent_model&&(i.value.tencent_model=t.settings.tencent_model),t.settings.tencent_endpoint&&(i.value.tencent_endpoint=t.settings.tencent_endpoint),y.value={tencent_secret_id:i.value.tencent_secret_id||"",tencent_secret_key:i.value.tencent_secret_key||"",tencent_region:i.value.tencent_region||"ap-beijing",tencent_model:i.value.tencent_model||"hunyuan-lite",tencent_endpoint:i.value.tencent_endpoint||"hunyuan.tencentcloudapi.com"})}catch(t){console.error("åŠ è½½è®¾ç½®å¤±è´¥:",t)}finally{A.value=!1}},fe=async()=>{try{A.value=!0;const t={};i.value.tencent_secret_id&&i.value.tencent_secret_id.trim()!==""&&i.value.tencent_secret_id!==y.value.tencent_secret_id&&(t.tencent_secret_id=i.value.tencent_secret_id),i.value.tencent_secret_key&&!i.value.tencent_secret_key.includes("***")&&(t.tencent_secret_key=i.value.tencent_secret_key),i.value.tencent_region!==y.value.tencent_region&&i.value.tencent_region&&(t.tencent_region=i.value.tencent_region),i.value.tencent_model!==y.value.tencent_model&&i.value.tencent_model&&(t.tencent_model=i.value.tencent_model),i.value.tencent_endpoint!==y.value.tencent_endpoint&&i.value.tencent_endpoint&&(t.tencent_endpoint=i.value.tencent_endpoint);const e=i.value.tencent_secret_id||y.value.tencent_secret_id;let o=null;i.value.tencent_secret_key&&!i.value.tencent_secret_key.includes("***")?o=i.value.tencent_secret_key:i.value.tencent_secret_key&&i.value.tencent_secret_key.includes("***")?y.value.tencent_secret_key&&!y.value.tencent_secret_key.includes("***")?o=y.value.tencent_secret_key:o="***MASKED***":y.value.tencent_secret_key&&!y.value.tencent_secret_key.includes("***")?o=y.value.tencent_secret_key:y.value.tencent_secret_key&&y.value.tencent_secret_key.includes("***")&&(o="***MASKED***"),console.log("éªŒè¯å¿…å¡«é¡¹ - SecretId:",e?`å·²å¡«å†™(${e.substring(0,3)}...)`:"æœªå¡«å†™"),console.log("éªŒè¯å¿…å¡«é¡¹ - SecretKey:",o?o==="***MASKED***"?"å·²é…ç½®ï¼ˆæ©ç ï¼‰":"å·²å¡«å†™":"æœªå¡«å†™"),console.log("å½“å‰SecretKeyå€¼:",i.value.tencent_secret_key),console.log("åˆå§‹SecretKeyå€¼:",y.value.tencent_secret_key);const h=e&&e.trim()!=="",m=o&&o!==""&&(o==="***MASKED***"||!o.includes("***"));if(!h||!m){console.log("éªŒè¯å¤±è´¥ - SecretId:",h,e),console.log("éªŒè¯å¤±è´¥ - SecretKey:",m,o),u.warning("è¯·å¡«å†™å®Œæ•´çš„SecretIdå’ŒSecretKey");return}if(Object.keys(t).length===0){u.info("æ²¡æœ‰æ£€æµ‹åˆ°ä»»ä½•ä¿®æ”¹");return}console.log("ä¿å­˜çš„è®¾ç½®ï¼ˆä»…ä¿®æ”¹çš„å­—æ®µï¼‰:",t),await V.updateSettings(t),u.success("é…ç½®ä¿å­˜æˆåŠŸï¼ŒAIæœåŠ¡é…ç½®å·²æ›´æ–°"),await H()}catch(t){console.error("ä¿å­˜è®¾ç½®å¤±è´¥:",t),u.error("ä¿å­˜é…ç½®å¤±è´¥: "+(t.message||t))}finally{A.value=!1}};return Ce(()=>l.value.is_multiple,(t,e)=>{e!==void 0&&t!==void 0&&t!==e&&(console.log("ğŸ”” watchæ£€æµ‹åˆ°is_multipleå˜åŒ–:",e,"->",t,"ç±»å‹:",typeof t),setTimeout(()=>{ee(t)},10))},{immediate:!1}),Ae(async()=>{P.user?P.user.is_admin?await Promise.all([E(),T(),X(),H()]):u.error("æ‚¨æ²¡æœ‰è®¿é—®æ­¤é¡µé¢çš„æƒé™"):setTimeout(()=>{var t;(t=P.user)!=null&&t.is_admin?Promise.all([E(),T(),X(),H()]):u.error("æ‚¨æ²¡æœ‰è®¿é—®æ­¤é¡µé¢çš„æƒé™")},500)}),(t,e)=>{const o=_("el-table-column"),h=_("el-tag"),m=_("el-button"),p=_("el-table"),g=_("el-tab-pane"),x=_("el-input"),S=_("el-form-item"),U=_("el-option"),R=_("el-select"),Y=_("el-form"),ge=_("el-card"),ye=_("el-tabs"),G=_("el-dialog"),te=_("el-radio"),we=_("el-radio-group"),be=_("el-icon"),ke=_("el-checkbox"),he=_("el-checkbox-group");return v(),k("div",Ie,[e[53]||(e[53]=r("div",{class:"admin-header"},[r("h1",null,"ç®¡ç†å‘˜æ§åˆ¶å°"),r("p",null,"ç³»ç»Ÿç®¡ç†å’Œæ•°æ®åˆ†æ")],-1)),r("div",$e,[r("div",Qe,[e[19]||(e[19]=r("h3",null,"ç”¨æˆ·ç»Ÿè®¡",-1)),r("div",ze,f(q.value.totalUsers),1),e[20]||(e[20]=r("p",null,"æ€»ç”¨æˆ·æ•°",-1))]),r("div",Be,[e[21]||(e[21]=r("h3",null,"é¢˜åº“ç»Ÿè®¡",-1)),r("div",qe,f(q.value.totalBanks),1),e[22]||(e[22]=r("p",null,"æ€»é¢˜åº“æ•°",-1))]),r("div",De,[e[23]||(e[23]=r("h3",null,"é¢˜ç›®ç»Ÿè®¡",-1)),r("div",Pe,f(q.value.totalQuestions),1),e[24]||(e[24]=r("p",null,"æ€»é¢˜ç›®æ•°",-1))])]),r("div",Ke,[n(ye,{modelValue:J.value,"onUpdate:modelValue":e[5]||(e[5]=a=>J.value=a)},{default:s(()=>[n(g,{label:"ç”¨æˆ·ç®¡ç†",name:"users"},{default:s(()=>[r("div",Me,[n(p,{data:K.value,style:{width:"100%"},"default-sort":{prop:"created_at",order:"descending"}},{default:s(()=>[n(o,{prop:"username",label:"ç”¨æˆ·å",width:"150","min-width":"120"}),n(o,{prop:"email",label:"é‚®ç®±",width:"200","min-width":"180","show-overflow-tooltip":""}),n(o,{prop:"created_at",label:"æ³¨å†Œæ—¶é—´",width:"180","min-width":"160"},{default:s(a=>[d(f(ie(a.row.created_at)),1)]),_:1}),n(o,{label:"ç®¡ç†å‘˜",width:"100",align:"center"},{default:s(a=>[a.row.is_admin?(v(),C(h,{key:0,type:"success"},{default:s(()=>[...e[25]||(e[25]=[d("æ˜¯",-1)])]),_:1})):(v(),C(h,{key:1,type:"info"},{default:s(()=>[...e[26]||(e[26]=[d("å¦",-1)])]),_:1}))]),_:1}),n(o,{label:"æ“ä½œ",width:"200",fixed:"right"},{default:s(a=>[r("div",Ee,[n(m,{size:"small",onClick:c=>ne(a.row)},{default:s(()=>[d(f(a.row.is_admin?"å–æ¶ˆç®¡ç†å‘˜":"è®¾ä¸ºç®¡ç†å‘˜"),1)]),_:2},1032,["onClick"]),n(m,{size:"small",type:"danger",onClick:c=>ae(a.row)},{default:s(()=>[...e[27]||(e[27]=[d(" åˆ é™¤ ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])])]),_:1}),n(g,{label:"é¢˜åº“ç®¡ç†",name:"banks"},{default:s(()=>[r("div",Te,[n(p,{data:F.value,style:{width:"100%"},"default-sort":{prop:"question_count",order:"descending"}},{default:s(()=>[n(o,{prop:"name",label:"é¢˜åº“åç§°",width:"180","min-width":"150","show-overflow-tooltip":""}),n(o,{prop:"description",label:"æè¿°","min-width":"200","show-overflow-tooltip":""}),n(o,{prop:"question_count",label:"é¢˜ç›®æ•°é‡",width:"120",align:"center",sortable:""}),n(o,{label:"åˆ›å»ºè€…",width:"120",align:"center"},{default:s(a=>[r("span",null,f(oe(a.row.user_id)),1)]),_:1}),n(o,{label:"æ“ä½œ",width:"380","min-width":"380",fixed:"right"},{default:s(a=>[r("div",je,[n(m,{size:"small",onClick:c=>L(a.row)},{default:s(()=>[...e[28]||(e[28]=[d("æŸ¥çœ‹é¢˜ç›®",-1)])]),_:1},8,["onClick"]),n(m,{size:"small",onClick:c=>re(a.row)},{default:s(()=>[...e[29]||(e[29]=[d("ç¼–è¾‘é¢˜åº“",-1)])]),_:1},8,["onClick"]),n(m,{size:"small",type:"primary",onClick:c=>Z(a.row)},{default:s(()=>[...e[30]||(e[30]=[d("æ·»åŠ é¢˜ç›®",-1)])]),_:1},8,["onClick"]),n(m,{size:"small",type:"danger",onClick:c=>se(a.row)},{default:s(()=>[...e[31]||(e[31]=[d("åˆ é™¤",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])])]),_:1}),n(g,{label:"ç³»ç»Ÿè®¾ç½®",name:"settings"},{default:s(()=>[r("div",Ne,[n(ge,{class:"settings-card"},{header:s(()=>[r("div",Fe,[e[33]||(e[33]=r("span",null,"è…¾è®¯äº‘AIé…ç½®",-1)),n(m,{type:"primary",size:"small",onClick:fe},{default:s(()=>[...e[32]||(e[32]=[d("ä¿å­˜é…ç½®",-1)])]),_:1})])]),default:s(()=>[n(Y,{"label-width":"140px",model:i.value},{default:s(()=>[n(S,{label:"SecretId",required:""},{default:s(()=>[n(x,{modelValue:i.value.tencent_secret_id,"onUpdate:modelValue":e[0]||(e[0]=a=>i.value.tencent_secret_id=a),placeholder:"è¯·è¾“å…¥è…¾è®¯äº‘SecretId","show-password":"",type:"password",disabled:A.value},null,8,["modelValue","disabled"]),e[34]||(e[34]=r("div",{class:"form-tip"},[d("è…¾è®¯äº‘APIå¯†é’¥IDï¼Œå¯åœ¨"),r("a",{href:"https://console.cloud.tencent.com/cam/capi",target:"_blank"},"è…¾è®¯äº‘æ§åˆ¶å°"),d("è·å–")],-1))]),_:1}),n(S,{label:"SecretKey",required:""},{default:s(()=>[n(x,{modelValue:i.value.tencent_secret_key,"onUpdate:modelValue":e[1]||(e[1]=a=>i.value.tencent_secret_key=a),placeholder:"è¯·è¾“å…¥è…¾è®¯äº‘SecretKeyï¼ˆå¦‚æœå·²é…ç½®åˆ™æ˜¾ç¤ºä¸º***ï¼‰","show-password":"",type:"password",disabled:A.value},null,8,["modelValue","disabled"]),e[35]||(e[35]=r("div",{class:"form-tip"},"è…¾è®¯äº‘APIå¯†é’¥ï¼Œå®‰å…¨æ•æ„Ÿä¿¡æ¯",-1))]),_:1}),n(S,{label:"åŒºåŸŸ",required:""},{default:s(()=>[n(R,{modelValue:i.value.tencent_region,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value.tencent_region=a),placeholder:"è¯·é€‰æ‹©åŒºåŸŸ",disabled:A.value},{default:s(()=>[n(U,{label:"åŒ—äº¬ (ap-beijing)",value:"ap-beijing"}),n(U,{label:"å¹¿å· (ap-guangzhou)",value:"ap-guangzhou"}),n(U,{label:"ä¸Šæµ· (ap-shanghai)",value:"ap-shanghai"}),n(U,{label:"æˆéƒ½ (ap-chengdu)",value:"ap-chengdu"})]),_:1},8,["modelValue","disabled"]),e[36]||(e[36]=r("div",{class:"form-tip"},"è…¾è®¯äº‘æœåŠ¡åŒºåŸŸ",-1))]),_:1}),n(S,{label:"æ¨¡å‹åç§°",required:""},{default:s(()=>[n(R,{modelValue:i.value.tencent_model,"onUpdate:modelValue":e[3]||(e[3]=a=>i.value.tencent_model=a),placeholder:"è¯·é€‰æ‹©æ¨¡å‹",disabled:A.value},{default:s(()=>[n(U,{label:"æ··å…ƒç²¾ç®€ç‰ˆ (hunyuan-lite) - å…è´¹",value:"hunyuan-lite"}),n(U,{label:"æ··å…ƒä¸“ä¸šç‰ˆ (hunyuan-pro) - ä»˜è´¹",value:"hunyuan-pro"}),n(U,{label:"æ··å…ƒæ ‡å‡†ç‰ˆ (hunyuan-standard) - ä»˜è´¹",value:"hunyuan-standard"})]),_:1},8,["modelValue","disabled"]),e[37]||(e[37]=r("div",{class:"form-tip"},"AIæ¨¡å‹ç±»å‹ï¼Œæ¨èä½¿ç”¨å…è´¹çš„hunyuan-lite",-1))]),_:1}),n(S,{label:"APIç«¯ç‚¹"},{default:s(()=>[n(x,{modelValue:i.value.tencent_endpoint,"onUpdate:modelValue":e[4]||(e[4]=a=>i.value.tencent_endpoint=a),placeholder:"hunyuan.tencentcloudapi.com",disabled:A.value},null,8,["modelValue","disabled"]),e[38]||(e[38]=r("div",{class:"form-tip"},"APIç«¯ç‚¹åœ°å€ï¼Œä¸€èˆ¬æ— éœ€ä¿®æ”¹",-1))]),_:1})]),_:1},8,["model"])]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),n(G,{modelValue:z.value,"onUpdate:modelValue":e[9]||(e[9]=a=>z.value=a),title:"ç¼–è¾‘é¢˜åº“",width:"500px"},{footer:s(()=>[n(m,{onClick:e[8]||(e[8]=a=>z.value=!1)},{default:s(()=>[...e[39]||(e[39]=[d("å–æ¶ˆ",-1)])]),_:1}),n(m,{type:"primary",onClick:ue},{default:s(()=>[...e[40]||(e[40]=[d("ä¿å­˜",-1)])]),_:1})]),default:s(()=>[n(Y,{model:$.value,"label-width":"80px"},{default:s(()=>[n(S,{label:"é¢˜åº“åç§°"},{default:s(()=>[n(x,{modelValue:$.value.name,"onUpdate:modelValue":e[6]||(e[6]=a=>$.value.name=a)},null,8,["modelValue"])]),_:1}),n(S,{label:"é¢˜åº“æè¿°"},{default:s(()=>[n(x,{modelValue:$.value.description,"onUpdate:modelValue":e[7]||(e[7]=a=>$.value.description=a),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),n(G,{modelValue:M.value,"onUpdate:modelValue":e[11]||(e[11]=a=>M.value=a),title:w.value?`${w.value.name} - é¢˜ç›®ç®¡ç†`:"é¢˜ç›®ç®¡ç†",width:"800px","before-close":_e},{default:s(()=>[w.value?(v(),k("div",Oe,[r("div",Le,[r("h3",null,"é¢˜åº“: "+f(w.value.name),1),r("p",null,f(w.value.description),1)]),r("div",He,[n(m,{type:"primary",onClick:e[10]||(e[10]=a=>Z(w.value))},{default:s(()=>[...e[41]||(e[41]=[d(" æ·»åŠ é¢˜ç›® ",-1)])]),_:1})]),n(p,{data:W.value,style:{width:"100%"}},{default:s(()=>[n(o,{prop:"id",label:"ID",width:"80"}),n(o,{label:"ç±»å‹",width:"80"},{default:s(a=>[a.row.is_multiple?(v(),C(h,{key:0,type:"warning",size:"small"},{default:s(()=>[...e[42]||(e[42]=[d("å¤šé€‰",-1)])]),_:1})):(v(),C(h,{key:1,type:"primary",size:"small"},{default:s(()=>[...e[43]||(e[43]=[d("å•é€‰",-1)])]),_:1}))]),_:1}),n(o,{prop:"question",label:"é¢˜ç›®å†…å®¹","min-width":"200"}),n(o,{label:"é€‰é¡¹","min-width":"300"},{default:s(a=>[(v(!0),k(B,null,D(a.row.options,(c,Q)=>(v(),k("div",{key:Q},f(String.fromCharCode(65+Q))+". "+f(c),1))),128))]),_:1}),n(o,{label:"æ­£ç¡®ç­”æ¡ˆ",width:"150"},{default:s(a=>[a.row.is_multiple&&Array.isArray(a.row.answer)?(v(),k("div",Re,[(v(!0),k(B,null,D(a.row.answer,(c,Q)=>(v(),C(h,{key:Q,type:"success",size:"small",style:{"margin-right":"5px"}},{default:s(()=>[d(f(String.fromCharCode(65+c)),1)]),_:2},1024))),128))])):(v(),k("span",Ye,f(String.fromCharCode(65+(Array.isArray(a.row.answer)?a.row.answer[0]:a.row.answer))),1))]),_:1}),n(o,{prop:"explanation",label:"è§£æ","min-width":"200"}),n(o,{label:"æ“ä½œ",width:"150"},{default:s(a=>[n(m,{size:"small",onClick:c=>de(a.row)},{default:s(()=>[...e[44]||(e[44]=[d("ç¼–è¾‘",-1)])]),_:1},8,["onClick"]),n(m,{size:"small",type:"danger",onClick:c=>me(a.row)},{default:s(()=>[...e[45]||(e[45]=[d(" åˆ é™¤ ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])])):j("",!0)]),_:1},8,["modelValue","title"]),l.value?(v(),C(G,{key:0,modelValue:I.value,"onUpdate:modelValue":e[18]||(e[18]=a=>I.value=a),title:l.value.id?"ç¼–è¾‘é¢˜ç›®":"æ·»åŠ é¢˜ç›®",width:"700px"},{footer:s(()=>[n(m,{onClick:e[17]||(e[17]=a=>I.value=!1)},{default:s(()=>[...e[51]||(e[51]=[d("å–æ¶ˆ",-1)])]),_:1}),n(m,{type:"primary",onClick:ve},{default:s(()=>[...e[52]||(e[52]=[d("ä¿å­˜",-1)])]),_:1})]),default:s(()=>[n(Y,{model:l.value,"label-width":"100px"},{default:s(()=>[n(S,{label:"é¢˜ç›®å†…å®¹"},{default:s(()=>[n(x,{modelValue:l.value.question,"onUpdate:modelValue":e[12]||(e[12]=a=>l.value.question=a),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),n(S,{label:"é¢˜ç›®ç±»å‹"},{default:s(()=>[n(we,{modelValue:l.value.is_multiple,"onUpdate:modelValue":e[13]||(e[13]=a=>l.value.is_multiple=a),onChange:ee},{default:s(()=>[n(te,{label:!1},{default:s(()=>[...e[46]||(e[46]=[d("å•é€‰é¢˜",-1)])]),_:1}),n(te,{label:!0},{default:s(()=>[...e[47]||(e[47]=[d("å¤šé€‰é¢˜",-1)])]),_:1})]),_:1},8,["modelValue"]),r("div",Ge,[e[48]||(e[48]=d(" å½“å‰ç±»å‹ï¼š",-1)),r("strong",null,f(l.value.is_multiple?"å¤šé€‰é¢˜":"å•é€‰é¢˜"),1),d(" (is_multiple: "+f(String(l.value.is_multiple))+", ç­”æ¡ˆç±»å‹: "+f(Array.isArray(l.value.answer)?"æ•°ç»„":typeof l.value.answer)+") ",1)])]),_:1}),n(S,{label:"é€‰é¡¹"},{default:s(()=>[(v(!0),k(B,null,D(l.value.options,(a,c)=>(v(),k("div",{key:c,style:{"margin-bottom":"10px"}},[n(x,{modelValue:l.value.options[c],"onUpdate:modelValue":Q=>l.value.options[c]=Q,placeholder:`é€‰é¡¹ ${String.fromCharCode(65+c)}`,style:{"margin-bottom":"8px"}},{prepend:s(()=>[d(f(String.fromCharCode(65+c)),1)]),append:s(()=>[l.value.options.length>2&&c>=2?(v(),C(m,{key:0,type:"danger",size:"small",onClick:Q=>pe(c),icon:le(xe)},{default:s(()=>[...e[49]||(e[49]=[d(" åˆ é™¤ ",-1)])]),_:1},8,["onClick","icon"])):j("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]))),128)),l.value.options.length<10?(v(),C(m,{key:0,type:"primary",plain:"",size:"small",onClick:ce,style:{width:"100%"}},{default:s(()=>[n(be,null,{default:s(()=>[n(le(Ue))]),_:1}),e[50]||(e[50]=d(" æ·»åŠ é€‰é¡¹ï¼ˆæœ€å¤š10ä¸ªï¼‰ ",-1))]),_:1})):(v(),k("div",Je," å·²è¾¾åˆ°æœ€å¤§é€‰é¡¹æ•°ï¼ˆ10ä¸ªï¼‰ "))]),_:1}),n(S,{label:l.value.is_multiple?"æ­£ç¡®ç­”æ¡ˆï¼ˆå¤šé€‰ï¼‰":"æ­£ç¡®ç­”æ¡ˆ"},{default:s(()=>[l.value.is_multiple===!0?(v(),k(B,{key:0},[n(he,{modelValue:l.value.answer,"onUpdate:modelValue":e[14]||(e[14]=a=>l.value.answer=a),style:{display:"flex","flex-direction":"column",gap:"8px"}},{default:s(()=>[(v(!0),k(B,null,D(l.value.options,(a,c)=>(v(),C(ke,{key:"multi-"+c,label:c,disabled:!a.trim()},{default:s(()=>[d(f(String.fromCharCode(65+c))+". "+f(a||`é€‰é¡¹ ${String.fromCharCode(65+c)}`),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["modelValue"]),!Array.isArray(l.value.answer)||l.value.answer.length===0?(v(),k("div",We," è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆ ")):j("",!0)],64)):(v(),C(R,{key:1,modelValue:l.value.answer,"onUpdate:modelValue":e[15]||(e[15]=a=>l.value.answer=a),placeholder:"è¯·é€‰æ‹©æ­£ç¡®ç­”æ¡ˆ",style:{width:"100%"}},{default:s(()=>[(v(!0),k(B,null,D(l.value.options,(a,c)=>(v(),C(U,{key:"single-"+c,label:`${String.fromCharCode(65+c)}. ${a||"é€‰é¡¹ "+String.fromCharCode(65+c)}`,value:c,disabled:!a.trim()},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"]))]),_:1},8,["label"]),n(S,{label:"ç­”æ¡ˆè§£æ"},{default:s(()=>[n(x,{modelValue:l.value.explanation,"onUpdate:modelValue":e[16]||(e[16]=a=>l.value.explanation=a),type:"textarea",rows:2},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])):j("",!0)])}}},tt=Ve(Xe,[["__scopeId","data-v-edf94448"]]);export{tt as default};
