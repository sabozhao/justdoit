import{_ as Ve,j as Se,k as V,l as Ce,o as Ae,E as r,r as y,b as c,d as g,e as u,t as w,g as n,w as a,m as S,h as B,n as A,i as d,F as j,f as P,p as ne,q as F,s as xe,v as Ue}from"./index-1d31d5f0.js";const Ie={class:"admin-container"},$e={class:"admin-stats"},Qe={class:"stat-card"},ze={class:"stat-number"},qe={class:"stat-card"},Be={class:"stat-number"},je={class:"stat-card"},De={class:"stat-number"},Pe={class:"admin-tabs"},Ke={class:"user-management"},Te={class:"action-buttons"},Me={class:"bank-management"},Ee={class:"action-buttons"},Ne={class:"system-settings"},Fe={class:"card-header"},Oe={key:0},Le={style:{"margin-bottom":"20px"}},He={style:{"margin-bottom":"20px"}},Re={key:0},Ye={key:1},Ge={key:2},Je={key:0,style:{"margin-top":"8px"}},We={key:1,style:{color:"#909399","font-size":"12px","text-align":"center","margin-top":"8px"}},Xe={key:0,style:{color:"#f56c6c","font-size":"12px","margin-top":"8px"}},Ze={__name:"Admin",setup(et){const K=Se(),Z=V("users"),T=V([]),O=V([]),D=V({totalUsers:0,totalBanks:0,totalQuestions:0});V({platformName:"åˆ·ä¸ªé¢˜",maxUsers:1e3,allowRegistration:!0});const o=V({tencent_secret_id:"",tencent_secret_key:"",tencent_region:"ap-beijing",tencent_model:"hunyuan-lite",tencent_endpoint:"hunyuan.tencentcloudapi.com"}),b=V({tencent_secret_id:"",tencent_secret_key:"",tencent_region:"ap-beijing",tencent_model:"hunyuan-lite",tencent_endpoint:"hunyuan.tencentcloudapi.com"}),x=V(!1),k=V(null),ee=V([]),M=V(!1),I=V(!1),z=V(!1),l=V({id:"",question:"",options:["",""],answer:0,is_multiple:!1,type:"choice",explanation:""}),$=V({name:"",description:""}),L=()=>{var t;return(t=K.user)!=null&&t.is_admin?!0:(r.error("æ‚¨æ²¡æœ‰ç®¡ç†å‘˜æƒé™"),!1)},E=async()=>{try{const t=await A.getUsers();console.log("Users API response:",t),T.value=t||[],console.log("Users data updated:",T.value)}catch(t){console.error("Users API error:",t),r.error("åŠ è½½ç”¨æˆ·æ•°æ®å¤±è´¥")}},N=async()=>{try{const t=await A.getQuestionBanks();console.log("Question banks API response:",t),O.value=t||[],console.log("Question banks data updated:",O.value)}catch(t){console.error("Question banks API error:",t),r.error("åŠ è½½é¢˜åº“æ•°æ®å¤±è´¥")}},te=async()=>{try{const t=await A.getStats();console.log("Stats API response:",t),t&&(D.value={totalUsers:t.total_users,totalBanks:t.total_question_banks,totalQuestions:t.total_questions},console.log("User stats updated:",D.value))}catch(t){console.error("Stats API error:",t),r.error("åŠ è½½ç»Ÿè®¡æ•°æ®å¤±è´¥")}},ae=async t=>{if(L())try{await F.confirm(`ç¡®å®šè¦${t.is_admin?"å–æ¶ˆ":"è®¾ç½®"} ${t.username} çš„ç®¡ç†å‘˜æƒé™å—ï¼Ÿ`,"ç¡®è®¤æ“ä½œ"),await A.updateUser(t.id,{is_admin:!t.is_admin}),r.success("æ“ä½œæˆåŠŸ"),E()}catch(e){e!=="cancel"&&r.error("æ“ä½œå¤±è´¥")}},se=async t=>{if(L())try{await F.confirm(`ç¡®å®šè¦åˆ é™¤ç”¨æˆ· ${t.username} å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚`,"ç¡®è®¤åˆ é™¤"),await A.deleteUser(t.id),r.success("ç”¨æˆ·åˆ é™¤æˆåŠŸ"),E()}catch(e){e!=="cancel"&&r.error("åˆ é™¤å¤±è´¥")}},oe=async t=>{if(L())try{await F.confirm(`ç¡®å®šè¦åˆ é™¤é¢˜åº“ ${t.name} å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚`,"ç¡®è®¤åˆ é™¤"),await A.deleteQuestionBank(t.id),r.success("é¢˜åº“åˆ é™¤æˆåŠŸ"),N()}catch(e){e!=="cancel"&&r.error("åˆ é™¤å¤±è´¥")}},ie=t=>{const e=T.value.find(i=>i.id===t);return e?e.username:t},re=t=>{if(!t)return"";try{const e=new Date(t),i=e.getFullYear(),h=String(e.getMonth()+1).padStart(2,"0"),v=String(e.getDate()).padStart(2,"0"),m=String(e.getHours()).padStart(2,"0"),_=String(e.getMinutes()).padStart(2,"0");return`${i}-${h}-${v} ${m}:${_}`}catch{return t}},H=async t=>{k.value=t;try{const e=await A.getQuestions(t.id);ee.value=e||[],M.value=!0}catch(e){console.error("è·å–é¢˜ç›®å¤±è´¥:",e),r.error("è·å–é¢˜ç›®å¤±è´¥")}},ue=t=>{k.value=t,$.value={name:t.name,description:t.description},z.value=!0},de=async()=>{if(k.value)try{await A.updateQuestionBank(k.value.id,$.value),r.success("é¢˜åº“ä¿¡æ¯æ›´æ–°æˆåŠŸ"),z.value=!1,N()}catch(t){console.error("æ›´æ–°é¢˜åº“å¤±è´¥:",t),r.error("æ›´æ–°é¢˜åº“å¤±è´¥")}},le=t=>{k.value=t,l.value={id:"",question:"",options:["",""],answer:0,is_multiple:!1,type:"choice",explanation:""},console.log("æ·»åŠ é¢˜ç›® - currentQuestionåˆå§‹åŒ–:",l.value),I.value=!0},ce=t=>{let e=t.answer;const i=t.type||"choice";i==="judgment"?(Array.isArray(e)?e=e.length>0?e[0]:0:e==null&&(e=0),e=e===1?1:0):t.is_multiple?Array.isArray(e)||(e=e!=null?[e]:[]):Array.isArray(e)?e=e.length>0?e[0]:0:e==null&&(e=0),l.value={id:t.id,question:t.question,options:i==="judgment"?["é”™è¯¯","æ­£ç¡®"]:[...t.options],answer:e,is_multiple:t.is_multiple||!1,type:i,explanation:t.explanation||""},I.value=!0},pe=()=>{l.value.options.length<10?(l.value.options.push(""),!l.value.is_multiple&&(l.value.answer===null||l.value.answer===void 0)&&(l.value.answer=0)):r.warning("æœ€å¤šåªèƒ½æ·»åŠ 10ä¸ªé€‰é¡¹")},ve=t=>{l.value.options.length>2?(l.value.options.splice(t,1),l.value.is_multiple?(Array.isArray(l.value.answer)&&(l.value.answer=l.value.answer.filter(e=>e!==t).map(e=>e>t?e-1:e)),l.value.answer.length===0&&l.value.options.length>0):l.value.answer===t?l.value.answer=0:l.value.answer>t&&(l.value.answer=l.value.answer-1)):r.warning("è‡³å°‘éœ€è¦2ä¸ªé€‰é¡¹")},R=()=>{if(l.value.type==="judgment")l.value.options=["é”™è¯¯","æ­£ç¡®"],l.value.answer=0,l.value.is_multiple=!1;else if(l.value.options.length<2&&(l.value.options=["",""]),l.value.is_multiple){if(!Array.isArray(l.value.answer)){const e=l.value.answer;e!=null&&typeof e=="number"&&e>=0&&e<l.value.options.length?l.value.answer=[e]:l.value.answer=[]}}else Array.isArray(l.value.answer)?l.value.answer=l.value.answer.length>0?l.value.answer[0]:0:(l.value.answer===null||l.value.answer===void 0||l.value.answer<0||l.value.answer>=l.value.options.length)&&(l.value.answer=0)},me=async()=>{var h,v;if(!k.value)return;if(!l.value.question.trim()){r.warning("è¯·è¾“å…¥é¢˜ç›®å†…å®¹");return}const t=l.value.type||"choice";let e=[],i=[];if(t==="judgment"){e=["é”™è¯¯","æ­£ç¡®"];const m=l.value.answer;if(m!==0&&m!==1){r.warning("åˆ¤æ–­é¢˜ç­”æ¡ˆå¿…é¡»æ˜¯0ï¼ˆé”™è¯¯ï¼‰æˆ–1ï¼ˆæ­£ç¡®ï¼‰");return}i=[m]}else{if(l.value.options.length>10){r.warning("é€‰é¡¹æ•°é‡ä¸èƒ½è¶…è¿‡10ä¸ª");return}const m=[];for(let _=0;_<l.value.options.length;_++){const f=l.value.options[_];f.trim()&&(m[_]=e.length,e.push(f.trim()))}if(e.length<2){r.warning("è‡³å°‘éœ€è¦2ä¸ªæœ‰æ•ˆé€‰é¡¹");return}if(l.value.is_multiple){if(!Array.isArray(l.value.answer)||l.value.answer.length===0){r.warning("å¤šé€‰é¢˜è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆ");return}for(const _ of l.value.answer){if(_<0||_>=m.length||m[_]===void 0){r.warning("ç­”æ¡ˆç´¢å¼•æ— æ•ˆï¼ˆå¯èƒ½å¯¹åº”ç©ºé€‰é¡¹ï¼‰");return}const f=m[_];if(f<0||f>=e.length){r.warning("ç­”æ¡ˆç´¢å¼•è¶…å‡ºé€‰é¡¹èŒƒå›´");return}i.includes(f)||i.push(f)}}else{if(l.value.answer===null||l.value.answer===void 0){r.warning("è¯·é€‰æ‹©æ­£ç¡®ç­”æ¡ˆ");return}const _=l.value.answer;if(_<0||_>=m.length||m[_]===void 0){r.warning("ç­”æ¡ˆç´¢å¼•æ— æ•ˆï¼ˆå¯èƒ½å¯¹åº”ç©ºé€‰é¡¹ï¼‰");return}const f=m[_];if(f<0||f>=e.length){r.warning("ç­”æ¡ˆç´¢å¼•è¶…å‡ºé€‰é¡¹èŒƒå›´");return}i=[f]}}try{const m={bank_id:k.value.id,question:l.value.question.trim(),options:e,answer:i,type:t,explanation:l.value.explanation||""};l.value.id?(await A.updateQuestion(l.value.id,m),r.success("é¢˜ç›®æ›´æ–°æˆåŠŸ")):(await A.createQuestion(m),r.success("é¢˜ç›®æ·»åŠ æˆåŠŸ")),I.value=!1,H(k.value)}catch(m){console.error("ä¿å­˜é¢˜ç›®å¤±è´¥:",m),r.error(((v=(h=m.response)==null?void 0:h.data)==null?void 0:v.error)||"ä¿å­˜é¢˜ç›®å¤±è´¥")}},_e=async t=>{try{await F.confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé¢˜ç›®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚","ç¡®è®¤åˆ é™¤"),await A.deleteQuestion(t.id),r.success("é¢˜ç›®åˆ é™¤æˆåŠŸ"),H(k.value)}catch(e){e!=="cancel"&&r.error("åˆ é™¤é¢˜ç›®å¤±è´¥")}},fe=()=>{M.value=!1,I.value=!1,z.value=!1},Y=async()=>{try{x.value=!0;const t=await A.getSettings();t&&t.settings&&(t.settings.tencent_secret_id&&(o.value.tencent_secret_id=t.settings.tencent_secret_id),t.settings.tencent_secret_key&&(t.settings.tencent_secret_key.includes("***"),o.value.tencent_secret_key=t.settings.tencent_secret_key),t.settings.tencent_region&&(o.value.tencent_region=t.settings.tencent_region),t.settings.tencent_model&&(o.value.tencent_model=t.settings.tencent_model),t.settings.tencent_endpoint&&(o.value.tencent_endpoint=t.settings.tencent_endpoint),b.value={tencent_secret_id:o.value.tencent_secret_id||"",tencent_secret_key:o.value.tencent_secret_key||"",tencent_region:o.value.tencent_region||"ap-beijing",tencent_model:o.value.tencent_model||"hunyuan-lite",tencent_endpoint:o.value.tencent_endpoint||"hunyuan.tencentcloudapi.com"})}catch(t){console.error("åŠ è½½è®¾ç½®å¤±è´¥:",t)}finally{x.value=!1}},ye=async()=>{try{x.value=!0;const t={};o.value.tencent_secret_id&&o.value.tencent_secret_id.trim()!==""&&o.value.tencent_secret_id!==b.value.tencent_secret_id&&(t.tencent_secret_id=o.value.tencent_secret_id),o.value.tencent_secret_key&&!o.value.tencent_secret_key.includes("***")&&(t.tencent_secret_key=o.value.tencent_secret_key),o.value.tencent_region!==b.value.tencent_region&&o.value.tencent_region&&(t.tencent_region=o.value.tencent_region),o.value.tencent_model!==b.value.tencent_model&&o.value.tencent_model&&(t.tencent_model=o.value.tencent_model),o.value.tencent_endpoint!==b.value.tencent_endpoint&&o.value.tencent_endpoint&&(t.tencent_endpoint=o.value.tencent_endpoint);const e=o.value.tencent_secret_id||b.value.tencent_secret_id;let i=null;o.value.tencent_secret_key&&!o.value.tencent_secret_key.includes("***")?i=o.value.tencent_secret_key:o.value.tencent_secret_key&&o.value.tencent_secret_key.includes("***")?b.value.tencent_secret_key&&!b.value.tencent_secret_key.includes("***")?i=b.value.tencent_secret_key:i="***MASKED***":b.value.tencent_secret_key&&!b.value.tencent_secret_key.includes("***")?i=b.value.tencent_secret_key:b.value.tencent_secret_key&&b.value.tencent_secret_key.includes("***")&&(i="***MASKED***"),console.log("éªŒè¯å¿…å¡«é¡¹ - SecretId:",e?`å·²å¡«å†™(${e.substring(0,3)}...)`:"æœªå¡«å†™"),console.log("éªŒè¯å¿…å¡«é¡¹ - SecretKey:",i?i==="***MASKED***"?"å·²é…ç½®ï¼ˆæ©ç ï¼‰":"å·²å¡«å†™":"æœªå¡«å†™"),console.log("å½“å‰SecretKeyå€¼:",o.value.tencent_secret_key),console.log("åˆå§‹SecretKeyå€¼:",b.value.tencent_secret_key);const h=e&&e.trim()!=="",v=i&&i!==""&&(i==="***MASKED***"||!i.includes("***"));if(!h||!v){console.log("éªŒè¯å¤±è´¥ - SecretId:",h,e),console.log("éªŒè¯å¤±è´¥ - SecretKey:",v,i),r.warning("è¯·å¡«å†™å®Œæ•´çš„SecretIdå’ŒSecretKey");return}if(Object.keys(t).length===0){r.info("æ²¡æœ‰æ£€æµ‹åˆ°ä»»ä½•ä¿®æ”¹");return}console.log("ä¿å­˜çš„è®¾ç½®ï¼ˆä»…ä¿®æ”¹çš„å­—æ®µï¼‰:",t),await A.updateSettings(t),r.success("é…ç½®ä¿å­˜æˆåŠŸï¼ŒAIæœåŠ¡é…ç½®å·²æ›´æ–°"),await Y()}catch(t){console.error("ä¿å­˜è®¾ç½®å¤±è´¥:",t),r.error("ä¿å­˜é…ç½®å¤±è´¥: "+(t.message||t))}finally{x.value=!1}};return Ce(()=>l.value.is_multiple,(t,e)=>{e!==void 0&&t!==void 0&&t!==e&&(console.log("ğŸ”” watchæ£€æµ‹åˆ°is_multipleå˜åŒ–:",e,"->",t,"ç±»å‹:",typeof t),setTimeout(()=>{R()},10))},{immediate:!1}),Ae(async()=>{K.user?K.user.is_admin?await Promise.all([E(),N(),te(),Y()]):r.error("æ‚¨æ²¡æœ‰è®¿é—®æ­¤é¡µé¢çš„æƒé™"):setTimeout(()=>{var t;(t=K.user)!=null&&t.is_admin?Promise.all([E(),N(),te(),Y()]):r.error("æ‚¨æ²¡æœ‰è®¿é—®æ­¤é¡µé¢çš„æƒé™")},500)}),(t,e)=>{const i=y("el-table-column"),h=y("el-tag"),v=y("el-button"),m=y("el-table"),_=y("el-tab-pane"),f=y("el-input"),C=y("el-form-item"),U=y("el-option"),G=y("el-select"),J=y("el-form"),ge=y("el-card"),we=y("el-tabs"),W=y("el-dialog"),q=y("el-radio"),X=y("el-radio-group"),be=y("el-icon"),ke=y("el-checkbox"),he=y("el-checkbox-group");return c(),g("div",Ie,[e[59]||(e[59]=u("div",{class:"admin-header"},[u("h1",null,"ç®¡ç†å‘˜æ§åˆ¶å°"),u("p",null,"ç³»ç»Ÿç®¡ç†å’Œæ•°æ®åˆ†æ")],-1)),u("div",$e,[u("div",Qe,[e[21]||(e[21]=u("h3",null,"ç”¨æˆ·ç»Ÿè®¡",-1)),u("div",ze,w(D.value.totalUsers),1),e[22]||(e[22]=u("p",null,"æ€»ç”¨æˆ·æ•°",-1))]),u("div",qe,[e[23]||(e[23]=u("h3",null,"é¢˜åº“ç»Ÿè®¡",-1)),u("div",Be,w(D.value.totalBanks),1),e[24]||(e[24]=u("p",null,"æ€»é¢˜åº“æ•°",-1))]),u("div",je,[e[25]||(e[25]=u("h3",null,"é¢˜ç›®ç»Ÿè®¡",-1)),u("div",De,w(D.value.totalQuestions),1),e[26]||(e[26]=u("p",null,"æ€»é¢˜ç›®æ•°",-1))])]),u("div",Pe,[n(we,{modelValue:Z.value,"onUpdate:modelValue":e[5]||(e[5]=s=>Z.value=s)},{default:a(()=>[n(_,{label:"ç”¨æˆ·ç®¡ç†",name:"users"},{default:a(()=>[u("div",Ke,[n(m,{data:T.value,style:{width:"100%"},"default-sort":{prop:"created_at",order:"descending"}},{default:a(()=>[n(i,{prop:"username",label:"ç”¨æˆ·å",width:"150","min-width":"120"}),n(i,{prop:"email",label:"é‚®ç®±",width:"200","min-width":"180","show-overflow-tooltip":""}),n(i,{prop:"created_at",label:"æ³¨å†Œæ—¶é—´",width:"180","min-width":"160"},{default:a(s=>[d(w(re(s.row.created_at)),1)]),_:1}),n(i,{label:"ç®¡ç†å‘˜",width:"100",align:"center"},{default:a(s=>[s.row.is_admin?(c(),S(h,{key:0,type:"success"},{default:a(()=>[...e[27]||(e[27]=[d("æ˜¯",-1)])]),_:1})):(c(),S(h,{key:1,type:"info"},{default:a(()=>[...e[28]||(e[28]=[d("å¦",-1)])]),_:1}))]),_:1}),n(i,{label:"æ“ä½œ",width:"200",fixed:"right"},{default:a(s=>[u("div",Te,[n(v,{size:"small",onClick:p=>ae(s.row)},{default:a(()=>[d(w(s.row.is_admin?"å–æ¶ˆç®¡ç†å‘˜":"è®¾ä¸ºç®¡ç†å‘˜"),1)]),_:2},1032,["onClick"]),n(v,{size:"small",type:"danger",onClick:p=>se(s.row)},{default:a(()=>[...e[29]||(e[29]=[d(" åˆ é™¤ ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])])]),_:1}),n(_,{label:"é¢˜åº“ç®¡ç†",name:"banks"},{default:a(()=>[u("div",Me,[n(m,{data:O.value,style:{width:"100%"},"default-sort":{prop:"question_count",order:"descending"}},{default:a(()=>[n(i,{prop:"name",label:"é¢˜åº“åç§°",width:"180","min-width":"150","show-overflow-tooltip":""}),n(i,{prop:"description",label:"æè¿°","min-width":"200","show-overflow-tooltip":""}),n(i,{prop:"question_count",label:"é¢˜ç›®æ•°é‡",width:"120",align:"center",sortable:""}),n(i,{label:"åˆ›å»ºè€…",width:"120",align:"center"},{default:a(s=>[u("span",null,w(ie(s.row.user_id)),1)]),_:1}),n(i,{label:"æ“ä½œ",width:"380","min-width":"380",fixed:"right"},{default:a(s=>[u("div",Ee,[n(v,{size:"small",onClick:p=>H(s.row)},{default:a(()=>[...e[30]||(e[30]=[d("æŸ¥çœ‹é¢˜ç›®",-1)])]),_:1},8,["onClick"]),n(v,{size:"small",onClick:p=>ue(s.row)},{default:a(()=>[...e[31]||(e[31]=[d("ç¼–è¾‘é¢˜åº“",-1)])]),_:1},8,["onClick"]),n(v,{size:"small",type:"primary",onClick:p=>le(s.row)},{default:a(()=>[...e[32]||(e[32]=[d("æ·»åŠ é¢˜ç›®",-1)])]),_:1},8,["onClick"]),n(v,{size:"small",type:"danger",onClick:p=>oe(s.row)},{default:a(()=>[...e[33]||(e[33]=[d("åˆ é™¤",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])])]),_:1}),n(_,{label:"ç³»ç»Ÿè®¾ç½®",name:"settings"},{default:a(()=>[u("div",Ne,[n(ge,{class:"settings-card"},{header:a(()=>[u("div",Fe,[e[35]||(e[35]=u("span",null,"è…¾è®¯äº‘AIé…ç½®",-1)),n(v,{type:"primary",size:"small",onClick:ye},{default:a(()=>[...e[34]||(e[34]=[d("ä¿å­˜é…ç½®",-1)])]),_:1})])]),default:a(()=>[n(J,{"label-width":"140px",model:o.value},{default:a(()=>[n(C,{label:"SecretId",required:""},{default:a(()=>[n(f,{modelValue:o.value.tencent_secret_id,"onUpdate:modelValue":e[0]||(e[0]=s=>o.value.tencent_secret_id=s),placeholder:"è¯·è¾“å…¥è…¾è®¯äº‘SecretId","show-password":"",type:"password",disabled:x.value},null,8,["modelValue","disabled"]),e[36]||(e[36]=u("div",{class:"form-tip"},[d("è…¾è®¯äº‘APIå¯†é’¥IDï¼Œå¯åœ¨"),u("a",{href:"https://console.cloud.tencent.com/cam/capi",target:"_blank"},"è…¾è®¯äº‘æ§åˆ¶å°"),d("è·å–")],-1))]),_:1}),n(C,{label:"SecretKey",required:""},{default:a(()=>[n(f,{modelValue:o.value.tencent_secret_key,"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.tencent_secret_key=s),placeholder:"è¯·è¾“å…¥è…¾è®¯äº‘SecretKeyï¼ˆå¦‚æœå·²é…ç½®åˆ™æ˜¾ç¤ºä¸º***ï¼‰","show-password":"",type:"password",disabled:x.value},null,8,["modelValue","disabled"]),e[37]||(e[37]=u("div",{class:"form-tip"},"è…¾è®¯äº‘APIå¯†é’¥ï¼Œå®‰å…¨æ•æ„Ÿä¿¡æ¯",-1))]),_:1}),n(C,{label:"åŒºåŸŸ",required:""},{default:a(()=>[n(G,{modelValue:o.value.tencent_region,"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.tencent_region=s),placeholder:"è¯·é€‰æ‹©åŒºåŸŸ",disabled:x.value},{default:a(()=>[n(U,{label:"åŒ—äº¬ (ap-beijing)",value:"ap-beijing"}),n(U,{label:"å¹¿å· (ap-guangzhou)",value:"ap-guangzhou"}),n(U,{label:"ä¸Šæµ· (ap-shanghai)",value:"ap-shanghai"}),n(U,{label:"æˆéƒ½ (ap-chengdu)",value:"ap-chengdu"})]),_:1},8,["modelValue","disabled"]),e[38]||(e[38]=u("div",{class:"form-tip"},"è…¾è®¯äº‘æœåŠ¡åŒºåŸŸ",-1))]),_:1}),n(C,{label:"æ¨¡å‹åç§°",required:""},{default:a(()=>[n(G,{modelValue:o.value.tencent_model,"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.tencent_model=s),placeholder:"è¯·é€‰æ‹©æ¨¡å‹",disabled:x.value},{default:a(()=>[n(U,{label:"æ··å…ƒç²¾ç®€ç‰ˆ (hunyuan-lite) - å…è´¹",value:"hunyuan-lite"}),n(U,{label:"æ··å…ƒä¸“ä¸šç‰ˆ (hunyuan-pro) - ä»˜è´¹",value:"hunyuan-pro"}),n(U,{label:"æ··å…ƒæ ‡å‡†ç‰ˆ (hunyuan-standard) - ä»˜è´¹",value:"hunyuan-standard"})]),_:1},8,["modelValue","disabled"]),e[39]||(e[39]=u("div",{class:"form-tip"},"AIæ¨¡å‹ç±»å‹ï¼Œæ¨èä½¿ç”¨å…è´¹çš„hunyuan-lite",-1))]),_:1}),n(C,{label:"APIç«¯ç‚¹"},{default:a(()=>[n(f,{modelValue:o.value.tencent_endpoint,"onUpdate:modelValue":e[4]||(e[4]=s=>o.value.tencent_endpoint=s),placeholder:"hunyuan.tencentcloudapi.com",disabled:x.value},null,8,["modelValue","disabled"]),e[40]||(e[40]=u("div",{class:"form-tip"},"APIç«¯ç‚¹åœ°å€ï¼Œä¸€èˆ¬æ— éœ€ä¿®æ”¹",-1))]),_:1})]),_:1},8,["model"])]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),n(W,{modelValue:z.value,"onUpdate:modelValue":e[9]||(e[9]=s=>z.value=s),title:"ç¼–è¾‘é¢˜åº“",width:"500px"},{footer:a(()=>[n(v,{onClick:e[8]||(e[8]=s=>z.value=!1)},{default:a(()=>[...e[41]||(e[41]=[d("å–æ¶ˆ",-1)])]),_:1}),n(v,{type:"primary",onClick:de},{default:a(()=>[...e[42]||(e[42]=[d("ä¿å­˜",-1)])]),_:1})]),default:a(()=>[n(J,{model:$.value,"label-width":"80px"},{default:a(()=>[n(C,{label:"é¢˜åº“åç§°"},{default:a(()=>[n(f,{modelValue:$.value.name,"onUpdate:modelValue":e[6]||(e[6]=s=>$.value.name=s)},null,8,["modelValue"])]),_:1}),n(C,{label:"é¢˜åº“æè¿°"},{default:a(()=>[n(f,{modelValue:$.value.description,"onUpdate:modelValue":e[7]||(e[7]=s=>$.value.description=s),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),n(W,{modelValue:M.value,"onUpdate:modelValue":e[11]||(e[11]=s=>M.value=s),title:k.value?`${k.value.name} - é¢˜ç›®ç®¡ç†`:"é¢˜ç›®ç®¡ç†",width:"800px","before-close":fe},{default:a(()=>[k.value?(c(),g("div",Oe,[u("div",Le,[u("h3",null,"é¢˜åº“: "+w(k.value.name),1),u("p",null,w(k.value.description),1)]),u("div",He,[n(v,{type:"primary",onClick:e[10]||(e[10]=s=>le(k.value))},{default:a(()=>[...e[43]||(e[43]=[d(" æ·»åŠ é¢˜ç›® ",-1)])]),_:1})]),n(m,{data:ee.value,style:{width:"100%"}},{default:a(()=>[n(i,{prop:"id",label:"ID",width:"80"}),n(i,{label:"ç±»å‹",width:"100"},{default:a(s=>[s.row.type==="judgment"?(c(),S(h,{key:0,type:"info",size:"small"},{default:a(()=>[...e[44]||(e[44]=[d("åˆ¤æ–­é¢˜",-1)])]),_:1})):s.row.is_multiple?(c(),S(h,{key:1,type:"warning",size:"small"},{default:a(()=>[...e[45]||(e[45]=[d("å¤šé€‰",-1)])]),_:1})):(c(),S(h,{key:2,type:"primary",size:"small"},{default:a(()=>[...e[46]||(e[46]=[d("å•é€‰",-1)])]),_:1}))]),_:1}),n(i,{prop:"question",label:"é¢˜ç›®å†…å®¹","min-width":"200"}),n(i,{label:"é€‰é¡¹","min-width":"300"},{default:a(s=>[(c(!0),g(j,null,P(s.row.options,(p,Q)=>(c(),g("div",{key:Q},w(String.fromCharCode(65+Q))+". "+w(p),1))),128))]),_:1}),n(i,{label:"æ­£ç¡®ç­”æ¡ˆ",width:"150"},{default:a(s=>[s.row.type==="judgment"?(c(),g("div",Re,[n(h,{type:"success",size:"small"},{default:a(()=>[d(w(s.row.answer&&s.row.answer[0]===1?"æ­£ç¡®":"é”™è¯¯"),1)]),_:2},1024)])):s.row.is_multiple&&Array.isArray(s.row.answer)?(c(),g("div",Ye,[(c(!0),g(j,null,P(s.row.answer,(p,Q)=>(c(),S(h,{key:Q,type:"success",size:"small",style:{"margin-right":"5px"}},{default:a(()=>[d(w(String.fromCharCode(65+p)),1)]),_:2},1024))),128))])):(c(),g("span",Ge,w(String.fromCharCode(65+(Array.isArray(s.row.answer)?s.row.answer[0]:s.row.answer))),1))]),_:1}),n(i,{prop:"explanation",label:"è§£æ","min-width":"200"}),n(i,{label:"æ“ä½œ",width:"150"},{default:a(s=>[n(v,{size:"small",onClick:p=>ce(s.row)},{default:a(()=>[...e[47]||(e[47]=[d("ç¼–è¾‘",-1)])]),_:1},8,["onClick"]),n(v,{size:"small",type:"danger",onClick:p=>_e(s.row)},{default:a(()=>[...e[48]||(e[48]=[d(" åˆ é™¤ ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])])):B("",!0)]),_:1},8,["modelValue","title"]),l.value?(c(),S(W,{key:0,modelValue:I.value,"onUpdate:modelValue":e[20]||(e[20]=s=>I.value=s),title:l.value.id?"ç¼–è¾‘é¢˜ç›®":"æ·»åŠ é¢˜ç›®",width:"700px"},{footer:a(()=>[n(v,{onClick:e[19]||(e[19]=s=>I.value=!1)},{default:a(()=>[...e[57]||(e[57]=[d("å–æ¶ˆ",-1)])]),_:1}),n(v,{type:"primary",onClick:me},{default:a(()=>[...e[58]||(e[58]=[d("ä¿å­˜",-1)])]),_:1})]),default:a(()=>[n(J,{model:l.value,"label-width":"100px"},{default:a(()=>[n(C,{label:"é¢˜ç›®å†…å®¹"},{default:a(()=>[n(f,{modelValue:l.value.question,"onUpdate:modelValue":e[12]||(e[12]=s=>l.value.question=s),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),n(C,{label:"é¢˜ç›®ç±»å‹"},{default:a(()=>[n(X,{modelValue:l.value.type,"onUpdate:modelValue":e[13]||(e[13]=s=>l.value.type=s),onChange:R},{default:a(()=>[n(q,{label:"choice"},{default:a(()=>[...e[49]||(e[49]=[d("é€‰æ‹©é¢˜",-1)])]),_:1}),n(q,{label:"judgment"},{default:a(()=>[...e[50]||(e[50]=[d("åˆ¤æ–­é¢˜",-1)])]),_:1})]),_:1},8,["modelValue"]),l.value.type==="choice"?(c(),g("div",Je,[n(X,{modelValue:l.value.is_multiple,"onUpdate:modelValue":e[14]||(e[14]=s=>l.value.is_multiple=s),size:"small",onChange:R},{default:a(()=>[n(q,{label:!1},{default:a(()=>[...e[51]||(e[51]=[d("å•é€‰é¢˜",-1)])]),_:1}),n(q,{label:!0},{default:a(()=>[...e[52]||(e[52]=[d("å¤šé€‰é¢˜",-1)])]),_:1})]),_:1},8,["modelValue"])])):B("",!0)]),_:1}),l.value.type==="choice"?(c(),S(C,{key:0,label:"é€‰é¡¹"},{default:a(()=>[(c(!0),g(j,null,P(l.value.options,(s,p)=>(c(),g("div",{key:p,style:{"margin-bottom":"10px"}},[n(f,{modelValue:l.value.options[p],"onUpdate:modelValue":Q=>l.value.options[p]=Q,placeholder:`é€‰é¡¹ ${String.fromCharCode(65+p)}`,style:{"margin-bottom":"8px"}},{prepend:a(()=>[d(w(String.fromCharCode(65+p)),1)]),append:a(()=>[l.value.options.length>2&&p>=2?(c(),S(v,{key:0,type:"danger",size:"small",onClick:Q=>ve(p),icon:ne(xe)},{default:a(()=>[...e[53]||(e[53]=[d(" åˆ é™¤ ",-1)])]),_:1},8,["onClick","icon"])):B("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]))),128)),l.value.options.length<10?(c(),S(v,{key:0,type:"primary",plain:"",size:"small",onClick:pe,style:{width:"100%"}},{default:a(()=>[n(be,null,{default:a(()=>[n(ne(Ue))]),_:1}),e[54]||(e[54]=d(" æ·»åŠ é€‰é¡¹ï¼ˆæœ€å¤š10ä¸ªï¼‰ ",-1))]),_:1})):(c(),g("div",We," å·²è¾¾åˆ°æœ€å¤§é€‰é¡¹æ•°ï¼ˆ10ä¸ªï¼‰ "))]),_:1})):B("",!0),l.value.type==="judgment"?(c(),S(C,{key:1,label:"æ­£ç¡®ç­”æ¡ˆ"},{default:a(()=>[n(X,{modelValue:l.value.answer,"onUpdate:modelValue":e[15]||(e[15]=s=>l.value.answer=s)},{default:a(()=>[n(q,{label:0},{default:a(()=>[...e[55]||(e[55]=[d("é”™è¯¯",-1)])]),_:1}),n(q,{label:1},{default:a(()=>[...e[56]||(e[56]=[d("æ­£ç¡®",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})):(c(),S(C,{key:2,label:l.value.is_multiple?"æ­£ç¡®ç­”æ¡ˆï¼ˆå¤šé€‰ï¼‰":"æ­£ç¡®ç­”æ¡ˆ"},{default:a(()=>[l.value.is_multiple===!0?(c(),g(j,{key:0},[n(he,{modelValue:l.value.answer,"onUpdate:modelValue":e[16]||(e[16]=s=>l.value.answer=s),style:{display:"flex","flex-direction":"column",gap:"8px"}},{default:a(()=>[(c(!0),g(j,null,P(l.value.options,(s,p)=>(c(),S(ke,{key:"multi-"+p,label:p,disabled:!s.trim()},{default:a(()=>[d(w(String.fromCharCode(65+p))+". "+w(s||`é€‰é¡¹ ${String.fromCharCode(65+p)}`),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["modelValue"]),!Array.isArray(l.value.answer)||l.value.answer.length===0?(c(),g("div",Xe," è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆ ")):B("",!0)],64)):(c(),S(G,{key:1,modelValue:l.value.answer,"onUpdate:modelValue":e[17]||(e[17]=s=>l.value.answer=s),placeholder:"è¯·é€‰æ‹©æ­£ç¡®ç­”æ¡ˆ",style:{width:"100%"}},{default:a(()=>[(c(!0),g(j,null,P(l.value.options,(s,p)=>(c(),S(U,{key:"single-"+p,label:`${String.fromCharCode(65+p)}. ${s||"é€‰é¡¹ "+String.fromCharCode(65+p)}`,value:p,disabled:!s.trim()},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"]))]),_:1},8,["label"])),n(C,{label:"ç­”æ¡ˆè§£æ"},{default:a(()=>[n(f,{modelValue:l.value.explanation,"onUpdate:modelValue":e[18]||(e[18]=s=>l.value.explanation=s),type:"textarea",rows:2},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])):B("",!0)])}}},lt=Ve(Ze,[["__scopeId","data-v-14296cbc"]]);export{lt as default};
